/*! Zource ZUI v0.0.0 | (c) Zource | github.com/zource/zui */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("ZUI requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=a.zui={version:"0.0.0 a945036558c89b6921a850ab62026e15d916ae02"};c.log=function(){a.console&&a.console.log&&Function.prototype.apply.call(a.console.log,console,arguments)},c.warn=function(){a.console&&a.console.warn&&Function.prototype.apply.call(a.console.warn,console,arguments)},c.error=function(){a.console&&a.console.error&&Function.prototype.apply.call(a.console.error,console,arguments)},c.Aria={isExpanded:function(a){return"true"===$(a).attr("aria-expanded")},setExpanded:function(a,b){$(a).attr("aria-expanded",b?"true":"false")},setVisibility:function(a,b){$(a).attr("aria-hidden",b?"false":"true")},getOwnedValue:function(a){var b=$(a).attr("aria-controls");return b||(b=$(a).attr("aria-owns"),b||c.error("Expected an 'aria-controls' or 'aria-owns' attribute.")),b},bind:function(){$("[aria-controls]").each(function(){var a=$(this).attr("id"),b=c.Aria.getOwnedValue(this);return a?void $("#"+b).attr("aria-describedby",a):void c.error("No id attribute found for element ",this)})}},c.EventHandler={lastMousePositionX:0,lastMousePositionY:0,installFilteredMouseMove:function(a){a.on("mousemove",function(a){var b=c.EventHandler.lastMousePositionX,d=c.EventHandler.lastMousePositionY;b===a.pageX&&d===a.pageY||$(a.target).trigger("mousemove-filtered",a)})},installKeyUpChangeEvent:function(a){var b="keyup-change-value";a.on("keydown",function(){void 0===$.data(a,b)&&$.data(a,b,a.val())}),a.on("keyup",function(){var c=$.data(a,b);void 0!==c&&a.val()!==c&&($.removeData(a,b),a.trigger("keyup-change"))})},bind:function(){$(document).on("mousemove",function(a){c.EventHandler.lastMousePositionX=a.pageX,c.EventHandler.lastMousePositionY=a.pageY})}},c.Keys={ALT:18,BACKSPACE:8,DELETE:46,END:35,ENTER:13,ESC:27,HOME:36,LEFT:37,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,DOWN:40,CTRL:17,PAGE_DOWN:34,PAGE_UP:33,isArrow:function(a){switch(a=a.which?a.which:a){case c.Keys.LEFT:case c.Keys.RIGHT:case c.Keys.UP:case c.Keys.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case c.Keys.SHIFT:case c.Keys.CTRL:case c.Keys.ALT:return!0}return!!a.metaKey},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},c.Screen={bind:function(){$(a).on("resize",function(){c.Screen.update()}),c.Screen.update()},update:function(){c.Screen.width=$(a).width(),c.Screen.height=$(a).height()},centerElement:function(a){var b=Math.max(0,(c.Screen.width-a.outerWidth())/2),d=Math.max((c.Screen.height-a.outerHeight())/2);a.css("position","fixed"),a.css("top",d),a.css("left",b)}},c.LastPass={bind:function(){$(document).ready(function(){setTimeout(function(){$("input[type='password'].disable-lastpass").css("background-image","none").on("mouseenter",function(){$(this).css("background-image","none")}).on("mouseleave",function(){$(this).css("background-image","none")}).on("click",function(){$(this).css("background-image","none")})},100)})}};function d(a){var b=a.data("zui-alert-fade-speed")||c.Alert.fadeOutSpeed;a.fadeOut(b,function(){a.trigger("zui-alert-closed"),a.remove()})}c.Alert={fadeOutSpeed:250,bind:function(){$("body").on("click",".zui-alert .zui-icon-x",function(){var a=$(this).closest(".zui-alert");return d(a),!1}),$("[data-zui-alert-timeout]").each(function(){var a=$(this);setTimeout(function(){d(a)},a.data("zui-alert-timeout"))})}},c.Anchor={bind:function(){$("body").on("click","a.disabled",function(){return!1})}},c.Button={bind:function(){$("a.zui-button.disabled").on("click",function(a){a.preventDefault()}),$(".zui-button-dropdown").on("click",function(){var a=$(this);return a.hasClass("disabled")?!1:(c.Dropdown.toggle(a,a),!1)}),$(".zui-button-split-more").on("click",function(a){a.preventDefault(),c.Dropdown.toggle(this,this)})}};var e;function f(a,b){$.ajax({type:"get",url:b,success:function(b){a.html(b)},error:function(b,c,d){a.html("An error did occur: "+d)}})}function g(a){$(".zui-dialog-panel",a).each(function(){var a=$(this);$(this).data("zui-dialog-ajax")&&f(a,$(this).data("zui-dialog-ajax"))})}function h(a,b,c){b.panels[c].body?a.html(b.panels[c].body):b.panels[c].ajax&&f(a,b.panels[c].ajax)}function i(a){var b=$(".zui-dialog-menu [aria-selected='true']",a).prevAll("li").length,c=$(".zui-dialog-menu li",a).length;0===b?$("[data-zui-dialog-button='previous']",a).attr("disabled",!0):$("[data-zui-dialog-button='previous']",a).attr("disabled",!1),b===c-1?$("[data-zui-dialog-button='next']",a).attr("disabled",!0):$("[data-zui-dialog-button='next']",a).attr("disabled",!1)}function j(a,b){var c=["tiny","small","medium","large","xlarge","full"],d=c.indexOf(b);if(-1!==d){for(var f=0;f<c.length;++f)e.removeClass("zui-dialog-"+c[f]);e.addClass("zui-dialog-"+c[d])}}c.Dialog={bind:function(){$(document).ready(function(){g($(".zui-dialog")),i($(".zui-dialog")),$("body").on("click",".zui-dialog-footer a, .zui-dialog-footer button",function(){return $(this).closest(".zui-dialog").trigger("zui-dialog-button-clicked",[this]),!1}),$("body").on("click",".zui-dialog-menu button",function(){var a=$(this).closest(".zui-dialog"),b=$(this).parent().prevAll("li").length;return c.Dialog.activatePage(a,b),!1}),$("body").on("keydown",function(a){a.which===c.Keys.ESC&&c.Dialog.close()}),$("body").on("click","[data-zui-dialog-button='next']",function(){var a=$(this).closest(".zui-dialog"),b=$(".zui-dialog-menu  [aria-selected='true']",a).prevAll("li").length;return c.Dialog.activatePage(a,b+1),e&&e.trigger("zui-dialog-button-next-clicked",[this]),!1}),$("body").on("click","[data-zui-dialog-button='previous']",function(){var a=$(this).closest(".zui-dialog"),b=$(".zui-dialog-menu  [aria-selected='true']",a).prevAll("li").length;return c.Dialog.activatePage(a,b-1),e&&e.trigger("zui-dialog-button-previous-clicked",[this]),!1}),$("body").on("click","[data-zui-dialog-button='cancel']",function(){return e&&(e.trigger("zui-dialog-button-cancel-clicked",[this]),c.Dialog.close(this)),!1}),$("body").on("click","[data-zui-dialog-trigger]",function(){var a,b;try{a=$(this).data("zui-dialog-trigger"),b=$(a)}catch(d){}finally{b&&b.length?c.Dialog.open(this,b):c.Dialog.load(this,a)}return!1}),$("body").on("click",".zui-dialog .zui-icon-x",function(){return e&&(e.trigger("zui-dialog-button-cancel-clicked",[this]),c.Dialog.close(this)),!1})})},load:function(a,b){$.ajax({type:"get",url:b,success:function(b){var d=$(b).appendTo("body"),e=c.Dialog.open(a,d);e.data("zui-dialog-remove-on-close","true")}})},activatePage:function(a,b){var c=$(".zui-dialog-page",a);a.trigger("zui-dialog-panel-deactivate",[]),$(".zui-dialog-panel",c).attr("aria-hidden","true"),a.trigger("zui-dialog-panel-deactivated",[]),b=Math.max(0,Math.min(b,$(".zui-dialog-menu li",c).length-1)),a.trigger("zui-dialog-panel-activating",[a,b]),$($(".zui-dialog-panel",c).get(b)).attr("aria-hidden","false"),$(".zui-dialog-menu li",c).attr("aria-selected","false"),$($(".zui-dialog-menu li",a).get(b)).attr("aria-selected","true"),a.trigger("zui-dialog-panel-activated",[a,b]),i(a)},close:function(a){e&&(e.trigger("zui-dialog-closing",[a,this]),"true"===e.data("zui-dialog-remove-on-close")?e.remove():e.hide(),e.trigger("zui-dialog-closed",[a,this])),$("#zui-blanket").remove()},open:function(a,b){return c.Dialog.close(a),e=$(b),e.css("position","fixed"),j(e,$(a).data("zui-dialog-size")),e.trigger("zui-dialog-opening",[a,this]),$("<div id='zui-blanket' aria-hidden='false'>").appendTo("body").on("click",function(){c.Dialog.close(this)}),g(e),e.show(),e.trigger("zui-dialog-opened",[a,this]),c.Screen.centerElement(e),e.trigger("zui-dialog-centered",[a,this]),i(e),e},create:function(a){var b,d,e=$("<div>").addClass("zui-dialog").data("zui-dialog-remove-on-close","true").appendTo("body"),f=$("<div>").addClass("zui-dialog-components").appendTo(e);if(a["class"]&&e.addClass(a["class"]),$("<h2>").addClass("zui-dialog-title").text(a.title).appendTo(f),a.panels.length>1){var g,i=$("<ul>").addClass("zui-dialog-menu").appendTo(f);for(b=0;b<a.panels.length;++b)g=$("<li>").appendTo(i),0===b&&g.addClass("selected"),$("<button>").addClass("zui-item-button").text(a.panels[b].label).appendTo(g)}var j=$("<div>").addClass("zui-dialog-page").appendTo(f);for(b=0;b<a.panels.length;++b)d=$("<div>").addClass("zui-dialog-panel").appendTo(j),h(d,a,b),0!==b&&d.attr("aria-hidden","true");var k=$("<div>").addClass("zui-dialog-footer").appendTo(f),l=$("<div>").addClass("zui-dialog-footer-left").appendTo(k),m=$("<div>").addClass("zui-dialog-footer-right").appendTo(k);if(a.hint&&$("<div>").addClass("zui-dialog-hint").html(a.hint).appendTo(l),a.buttons)for(b=0;b<a.buttons.length;++b){var n=$("<button>").appendTo(m);a.buttons[b].click&&n.on("click",a.buttons[b].click),n.text(a.buttons[b].label),a.buttons[b].type&&n.attr("data-zui-dialog-button",a.buttons[b].type)}return c.Dialog.open(null,e)},replaceWith:function(a){var b=$(a).attr("style",e.attr("style"));e.replaceWith(b),e=b}};var k=!1,l=null;c.Dropdown={bind:function(){$(document).on("click",function(a){$(a.target).closest(".zui-dropdown-menu").length||$(a.target).closest(".zui-button-split-more").length||c.Dropdown.close()}),$("body").on("mouseenter","[aria-expanded='false']",function(){k&&c.Dropdown.open(this,this)}),$("body").on("mouseenter",".zui-dropdown-menu li",function(){c.Dropdown.clearSelectedElements(),$(this).addClass("zui-dropdown-item-highlighted"),l=$(this)}),$("body").on("mouseleave",".zui-dropdown-menu li",function(){c.Dropdown.clearSelectedElements(),l=null})},clearSelectedElements:function(){$(".zui-dropdown-item-highlighted").removeClass("zui-dropdown-item-highlighted")},getSelectedElement:function(){var a=c.Dropdown.getSelectedElements();return 0===a.length?null:a[0]},getSelectedElements:function(){return $(".zui-dropdown-item-highlighted")},selectFirst:function(){c.Dropdown.clearSelectedElements(),l=$(".zui-dropdown-menu[aria-hidden='false'] li:not(.zui-dropdown-item-hidden):first"),l.addClass("zui-dropdown-item-highlighted")},selectNext:function(){if(!l)return void c.Dropdown.selectFirst();var a=l.nextAll(":not('.zui-dropdown-item-hidden'):first");a.length&&(l.removeClass("zui-dropdown-item-highlighted"),l=a,l.addClass("zui-dropdown-item-highlighted"))},selectPrevious:function(){if(!l)return void c.Dropdown.selectFirst();var a=l.prevAll(":not('.zui-dropdown-item-hidden'):first");a.length&&(l.removeClass("zui-dropdown-item-highlighted"),l=a,l.addClass("zui-dropdown-item-highlighted"))},close:function(){k&&($(".zui-dropdown-menu").each(function(){var a=$(this).attr("aria-describedby"),b;c.Aria.setVisibility(this,!1),a&&(b=$("#"+a),c.Aria.setExpanded(b,!1),b.removeClass("zui-button-active"),b.removeClass("zui-dropdown-item-highlighted"))}),k=!1,l&&(c.Dropdown.clearSelectedElements(),l=null))},open:function(a,b){var d,e,f,g,h;c.Dropdown.close(),a=$(a),b=$(b),d=c.Aria.getOwnedValue(a),e=$("#"+d).appendTo("body"),e.width(b.width()),f=b.offset(),g=f.left+1,h=f.top+b.outerHeight(),g+e.width()>c.Screen.width&&(g=f.left+b.outerWidth(!0)-e.width()),a.addClass("zui-button-active"),e.css("top","0"),e.css("left","0"),e.css("position","absolute"),e.css("transform","translateX("+g+"px) translateY("+h+"px)"),e.css("z-index","3000"),c.Aria.setVisibility($(".zui-dropdown-menu"),!1),c.Aria.setVisibility(e,!0),c.Aria.setExpanded(a,!0),k=!0},toggle:function(a,b){a=$(a),"true"===a.attr("aria-expanded")?c.Dropdown.close():c.Dropdown.open(a,b)}},c.Id={create:function(){var a=0;return function(b){return b+a++}}()};var m=function(a){var b=this,d,e,f,g,h;a=$(a);var i=void 0!==a.data("zui-addable")&&(""===a.data("zui-addable")||!!a.data("zui-addable")),j=function(a){var b,c;"string"==typeof a&&(a=[a]),$("li",f).each(function(){c=$(this),b=String(c.data("key")),a&&-1!==a.indexOf(b)?c.addClass("zui-dropdown-item-hidden"):c.removeClass("zui-dropdown-item-hidden")})},k=function(a){for(var b=$("li",f),c=0;c<b.length;++c)if($(b[c]).text().toLowerCase()===a.toLowerCase())return b[c];return null},l=function(b){b=b.toLowerCase(),h&&h.remove(),c.Dropdown.clearSelectedElements();var d=a.val()||[];$("li",f).each(function(){var a=$(this),c=a.data("key"),e=a.text().toLowerCase();-1!==d.indexOf(c.toString())||0!==e.indexOf(b)?a.addClass("zui-dropdown-item-hidden"):a.removeClass("zui-dropdown-item-hidden")});var e=$("li:not(.zui-dropdown-item-hidden)",f).length;if(0===e){var g=a.data("zui-no-matches")||"No matches found.";h=$("<li>").addClass("zui-dropdown-no-matches").appendTo(f),$("<span>").text(g).appendTo(h)}else i||c.Dropdown.selectFirst()},m=function(){var d=$("button",e);d.length&&(d.on("keydown",function(d){d.which===c.Keys.TAB?b.close():d.which===c.Keys.ENTER&&(a.trigger("zui-select-container-enter"),$(".zui-dropdown-item-highlighted").length&&(b.selectKey($(".zui-dropdown-item-highlighted").data("key")),c.Dropdown.close(),d.preventDefault()))}),d.on("keyup",function(a){return a.which===c.Keys.DOWN?(c.Dropdown.selectNext(),a.preventDefault(),!1):a.which===c.Keys.UP?(c.Dropdown.selectPrevious(),a.preventDefault(),!1):void 0}))},n=function(){g=e.find("input"),g.on("keydown",function(e){if(e.which===c.Keys.TAB)b.close();else if(e.which===c.Keys.ENTER){if(a.trigger("zui-select-container-enter"),$(".zui-dropdown-item-highlighted").length)b.selectKey($(".zui-dropdown-item-highlighted").data("key"));else if(i){var f=$(this).val(),g=$("option",a).filter(function(){return $(this).text()===f});if(0!==g.length)return void e.preventDefault();$("<option>").text(f).attr("value",f).appendTo(a),o(f,f),d?(t(f,f),$(this).val("").width(10)):b.selectKey(f)}e.preventDefault()}else if(d){var h=$(this).outerWidth()+25,j=$(this).closest("ul").width();$(this).width(Math.min(h,j))}}),g.on("keyup",function(a){if(a.which===c.Keys.ESC||a.which===c.Keys.TAB)b.close(),a.preventDefault();else{if(a.which===c.Keys.DOWN)return a.altKey&&b.isOpen()?b.close():a.altKey?b.open():c.Dropdown.selectNext(),a.preventDefault(),!1;if(a.which===c.Keys.UP)return c.Dropdown.selectPrevious(),a.preventDefault(),!1;b.isOpen()||b.open(),l($(this).val())}}),g.on("blur",function(){if(!d){var b=$(this).val(),c=$("option",a).attr("selected",!1).filter(function(){return $(this).text()===b});c.length?c.attr("selected",!0):$(this).val($("option:selected",a).text())}}),g.val($("option:selected",a).text())},o=function(a,c){var d=$("<li>").attr("data-key",a).appendTo(f);d.on("click",function(){b.selectKey($(this).data("key")),b.close()}),$("<span>").addClass("zui-select-result-label").text(c).appendTo(d)},p=function(){$("option",a).each(function(){""!==$(this).text()&&o($(this).val(),$(this).text())})},q=function(){d="multiple"===a.attr("multiple"),e=d?r():s(),e.insertBefore(a)},r=function(){var a=c.Id.create("zui-select-container-menu"),b=c.Id.create("zui-select-container-controller"),d=$("<span>").attr({"class":"zui-select-container zui-select-container-multi"}).html(["<ul class='zui-select-choices'>","   <li class='zui-select-search-field'>","       <input  type='text'            autocomplete='off'            autocorrect='off'            autocapitalize='off'            spellcheck='false'            class='zui-select-input'            aria-controls='"+a+"'            id='"+b+"'>","   </li>","</ul>","<span class='zui-dropdown-menu' id='"+a+"' aria-describedby='"+b+"'  aria-hidden='true'>","   <ul class='zui-select-results'>","   </ul>","</span>"].join(""));return d},s=function(){var a=c.Id.create("zui-select-container-menu"),b=c.Id.create("zui-select-container-controller"),d=$("<span>").attr({"class":"zui-select-container zui-select-container-single"}).html(["<input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'                spellcheck='false' class='zui-select-input'>","<button aria-controls='"+a+"' id='"+b+"'>X</button>","<span class='zui-dropdown-menu' id='"+a+"' aria-describedby='"+b+"'  aria-hidden='true'>","   <ul class='zui-select-results'>","   </ul>","</span>"].join(""));return d},t=function(c,d){var f=e.find("input").parent();""===d&&(d="(empty)");var g=$("<li>").addClass("zui-select-item-field zui-tag zui-tag-removable");g.attr("data-key",c),g.text(d),g.append($("<span>").addClass("zui-icon zui-icon-x")),g.insertBefore(f),g.data("zui-select-container",b),$("option[value='"+c+"']",a).attr("selected",!0)},u=function(){e.on("click",function(){g.focus()})},v=function(){var a=$("button",e);a.on("click",function(){return b.toggle(),!1})};this.deselectKey=function(b){$("option[value='"+b+"']",a).attr("selected",!1)},this.selectOptions=function(a){if(d){$(".zui-select-item-field",e).remove();for(var b=0;b<a.length;++b)t($(a[b]).attr("value"),$(a[b]).text())}else g.val(a.text())},this.create=function(){q(),f=$(".zui-dropdown-menu ul",e),c.Aria.setVisibility(f,!1),n(),m(),p(),d?u():v(),a.on("change",function(){b.selectOptions($("option:selected",this))}),a.hide(),c.Aria.setVisibility(a,!1)},this.open=function(){c.Aria.setVisibility(f,!0);var b=d?$("input",e):$("button",e);c.Dropdown.open(b,e),$(".zui-dropdown-no-matches",f).remove(),j(a.val());var h=k(g.val());h||l(g.val())},this.close=function(){c.Aria.setVisibility(f,!1),c.Dropdown.close()},this.toggle=function(){this.isOpen()?this.close():this.open()},this.isOpen=function(){var a=$("button",e);return c.Aria.isExpanded(a)},this.remove=function(){e.remove(),a.show()},this.selectIndex=function(b){var c=$("option:nth-child("+(b+1)+")",a).val();this.selectKey(c)},this.selectKey=function(b){d?(t(b,$("option[value='"+b+"']",a).text()),g.val("").width(10).focus()):(a.val(b),g.val($("option:selected",a).text()))},this.getLength=function(){return $("option",a).length}};c.SelectContainerClass=m,c.SelectContainer={dataKey:"SelectContainerClass",bind:function(){$("select.zui-select-container").each(function(){c.SelectContainer.create(this)}),$("body").on("zui-tag-removed",".zui-tag-removable",function(){var a=$(this).data("zui-select-container");a.deselectKey($(this).data("key"))})},create:function(a){var b;return a=$(a),(b=a.data(c.SelectContainer.dataKey))?void 0:(b=new m(a),a.data(c.SelectContainer.dataKey,b),b.create(),b)},remove:function(a){a=$(a);var b=a.data(c.SelectContainer.dataKey);b&&(a.removeData(c.SelectContainer.dataKey),b.remove())},selectIndex:function(a,b){a=$(a);var d=a.data(c.SelectContainer.dataKey);d&&d.selectIndex(b)},selectKey:function(a,b){a=$(a);var d=a.data(c.SelectContainer.dataKey);d&&d.selectKey(b)},getLength:function(a){a=$(a);var b=a.data(c.SelectContainer.dataKey);return b?b.getLength():-1}};function n(a){var b=a.data("zui-note-fade-speed")||c.Note.fadeOutSpeed;a.fadeOut(b,function(){a.trigger("zui-note-closed"),a.remove()})}c.Note={fadeOutSpeed:250,draggingElement:!1,draggingX:0,draggingY:0,startX:0,startY:0,bind:function(){$("body").on("click",".zui-note .zui-icon-x",function(){var a=$(this).closest(".zui-note");return n(a),!1}).on("mousemove",function(a){c.Note.draggingX=a.pageX,c.Note.draggingY=a.pageY,c.Note.draggingElement&&$(c.Note.draggingElement).css({left:c.Note.draggingX-c.Note.startX,top:c.Note.draggingY-c.Note.startY})}).on("mouseup",function(){c.Note.draggingElement=null}),$(".zui-note").on("mousedown",function(){c.Note.draggingElement=this,c.Note.startX=c.Note.draggingX-$(this).offset().left,c.Note.startY=c.Note.draggingY-$(this).offset().top}),$("[data-zui-note-selector]").each(function(){var a=$($(this).attr("data-zui-note-selector")),b=parseInt($(this).attr("data-zui-note-offset-x"))||10,c=parseInt($(this).attr("data-zui-note-offset-y"))||10;$(".zui-note").appendTo("body"),$(this).css({left:a.offset().left+b,top:a.offset().top+c})}),$("[data-zui-note-timeout]").each(function(){var a=$(this);setTimeout(function(){n(a)},a.data("zui-note-timeout"))}),$(".zui-note").fadeIn()}};var o=[],p=[];function q(a){for(var b=0;b<o.length;++b)if(o[b].matches(a))return o[b];return null}function r(a,b){return a.altKey!==b.alt?!1:a.ctrlKey!==b.ctrl?!1:a.shiftKey!==b.shift?!1:a.key.toLowerCase()===b.key.toLowerCase()}function s(a){var b=a.trim().split(","),c=[];return b.forEach(function(a){var b=a.trim().split("+"),d={alt:!1,meta:!1,ctrl:!1,shift:!1,key:null};b.forEach(function(a){switch(a.toLowerCase()){case"alt":d.alt=!0;break;case"control":d.ctrl=!0;break;case"meta":d.meta=!0;break;case"shift":d.shift=!0;break;default:d.key=a}}),c.push(d)}),c}var t=function(b){var c,d;this.keyCombination=b,this.invoke=function(a){c="invoke",d=a},this.redirect=function(a){c="redirect",d=a},this.matches=function(a){if(b.length>a.length)return!1;for(var c=a.length-1,d=b.length-1;d>=0;--d,--c)if(!r(a[c],b[d]))return!1;return!0},this.run=function(){switch(c){case"invoke":d(this);break;case"redirect":a.location.href=d;break;default:throw"No valid command set."}}};c.Shortcut={shortcuts:[],bind:function(){$("body").on("keyup",function(a){var b;16!==a.keyCode&&17!==a.keyCode&&18!==a.keyCode&&(p.push(a),b=q(p),b&&(b.run(),p=[]))})},on:function(a){var b=s(a),c=new t(b);return o.push(c),c}};var u;c.Splitter={bind:function(){$(document.body).on("mousedown",".splitter-bar",function(a){return u=$(a.target),$("body").css("cursor","ew-resize"),!1}),$(document.body).on("mouseup",function(){u&&(u=null,$("body").css("cursor",""))}),$(document.body).on("mousemove",function(a){if(u){var b=u.closest(".splitter"),c=b.parent(),d=$(".splitter-pane1",b),e=$(".splitter-pane2",b),f=parseInt(d.css("min-width")),g=c.width()-f-u.outerWidth(),h=Math.max(f,Math.min(g,a.pageX));return d.css("width",h),u.css("left",h),h+=u.width(),e.css("left",h),e.css("width",c.width()-h),!1}})}},c.Tabs={dataKey:"TabsClass",bind:function(){$(document).on("click",".zui-tabs-menu .zui-menu-item",function(a){c.Tabs.selectTab($("a",this).attr("href")),a.preventDefault()}),c.Tabs.selectTab(a.location.hash)},getSelectedTab:function(a){return $(".zui-menu-item.zui-active-tab a",a).attr("href")},getTabPosition:function(a){var b=$(a).closest(".zui-tabs");if(b){var c=$("a[href='"+a+"']",b).closest("li.zui-menu-item").prevAll(".zui-menu-item");return c.length}},getTabCount:function(a){return $(".zui-menu-item",a).length},addTab:function(a,b,c,d){var e=a.closest(".zui-tabs");e&&($(".zui-tabs-menu",e).append(["<li role='presentation' class='zui-menu-item'>","   <a href='#"+b+"' role='tab' aria-selected='true'><strong>"+c+"</strong></a>","</li>"].join("")),$("<div>").attr({role:"tabpanel","aria-hidden":!0,id:b,"class":"zui-tabs-pane"}).html(d).appendTo($(".zui-tabs-content",e)))},insertTab:function(a,b,d,e,f){var g=a.closest(".zui-tabs");if(g){var h=$(".zui-tabs-menu li.zui-menu-item",g).get(b);c.Tabs.addTab(a,d,e,f),$("a[href='#"+d+"']").closest("li.zui-menu-item").insertAfter(h)}},removeTab:function(a){var b=$(".zui-tabs a[href='"+a+"']").closest("li"),d=b.closest(".zui-tabs"),e=b.hasClass("zui-active-tab");$(b).remove(),$(a).remove(),e&&c.Tabs.selectTab($(".zui-menu-item:first a",d).attr("href"))},selectTab:function(a){var b=$(".zui-tabs a[href='"+a+"']").closest("li");$(a).siblings(".zui-tabs-pane").removeClass("zui-active-pane").attr("aria-hidden","true"),$(a).addClass("zui-active-pane").attr("aria-hidden","false"),b.siblings(".zui-menu-item").removeClass("zui-active-tab"),b.addClass("zui-active-tab"),$("a",b.siblings(".zui-menu-item")).attr("aria-selected","false"),$("a",b).attr("aria-selected","true")}};var v=0;function w(a){return $(a).hasClass("zui-table-col-asc")?"asc":$(a).hasClass("zui-table-col-desc")?"desc":""}function x(a,b){var c=new Date(a),d=new Date(b);return y(c,d)}function y(a,b){return b>a?-1:a>b?1:0}function z(a,b){var c=$(a.cells[v]).text().toLowerCase(),d=$(b.cells[v]).text().toLowerCase();return c.localeCompare(d)}function A(a){var b=$(a[0]).text();return b.match(/^\d\d[\/\.-][a-zA-z][a-zA-Z][a-zA-Z][\/\.-]\d\d\d\d$/)?x:b.match(/^-?[£$€Û¢´]\d/)?y:z}function B(a,b,c){var d=$("tbody",a);if(0!==d.length){var e=[],f=[];$("tr",d).each(function(){e.push(this),f.push(this.cells.item(b))});var g=A(f);v=b,e.sort(g),c||e.reverse(),d.empty();for(var h=0;h<e.length;++h)d.append(e[h])}}return c.Table={bind:function(){$(".zui-table-sortable thead th").wrapInner("<div class='zui-table-header-content'>"),$(".zui-table-sortable thead th").addClass("zui-table-col-unsorted").on("click",function(){var a=w(this),b=this.cellIndex;switch($(".zui-table-sortable thead th").removeClass("zui-table-col-asc").removeClass("zui-table-col-desc").addClass("zui-table-col-unsorted"),a){case"asc":B($(this).closest("table.zui-table-sortable"),b,!1),$(this).removeClass("zui-table-col-unsorted").addClass("zui-table-col-desc");break;case"desc":B($(this).closest("table.zui-table-sortable"),b,!0),$(this).removeClass("zui-table-col-unsorted").addClass("zui-table-col-asc");break;default:B($(this).closest("table.zui-table-sortable"),b,!0),$(this).removeClass("zui-table-col-unsorted").addClass("zui-table-col-asc")}return!1})}},c.Tag={bind:function(){var a=".zui-tag-removable .zui-icon-x";$("body").on("click",a,function(){var a=$(this).closest(".zui-tag");a.trigger("zui-tag-removed"),a.fadeOut(200,function(){$(this).remove()})})}},"function"==typeof define&&define.amd&&define("zui",[],function(){return c}),$("body").attr("data-zui-version",c.version),c.EventHandler.bind(),c.Aria.bind(),c.Alert.bind(),c.Anchor.bind(),c.Button.bind(),c.Dialog.bind(),c.Dropdown.bind(),c.Note.bind(),c.SelectContainer.bind(),c.Screen.bind(),c.Shortcut.bind(),c.Splitter.bind(),c.Tabs.bind(),c.Table.bind(),c.Tag.bind(),c.LastPass.bind(),c});
//# sourceMappingURL=zui.min.js.map